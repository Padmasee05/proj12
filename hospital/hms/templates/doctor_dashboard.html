<!DOCTYPE html>
<html>
<head>
    <title>Doctor Dashboard</title>
    <script>
        function confirmLogout(event) {
            event.preventDefault();
            if (confirm("Are you sure you want to logout?")) {
                window.location.href = event.target.href;
            }
        }
    </script>
</head>
<body>
    <nav>
        <ul>
            <li><a href="{% url 'doctor_dashboard' %}">Home</a></li>
            <li><a href="{% url 'doctor_availability' %}">Availability</a></li>
            <li><a href="{% url 'logout' %}" onclick="confirmLogout(event)">Logout</a></li>
        </ul>
    </nav>

    <h1>Doctor Dashboard</h1>

    <div>
        <h2>Total Patients: {{ total_patients }}</h2>

        <h2>Today's Appointments:</h2>
        <ul>
            {% if todays_appointments %}
                {% for appointment in todays_appointments %}
                    <li>{{ appointment.patient.firstname }} {{ appointment.patient.lastname }} at {{ appointment.time }}</li>
                {% endfor %}
            {% else %}
                <li>No appointments for today.</li>
            {% endif %}
        </ul>

        <h2>Pending Patients:</h2>
        <ul>
            {% if pending_patients %}
                {% for appointment in pending_patients %}
                    <li>{{ appointment.patient.firstname }} {{ appointment.patient.lastname }}
                    on {{ appointment.date }} at {{ appointment.time }}</li>
                {% endfor %}
            {% else %}
                <li>No pending patients.</li>
            {% endif %}
        </ul>
    </div>
</body>
</html>
